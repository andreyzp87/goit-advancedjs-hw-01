{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst STORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\n\nconst savedData = localStorage.getItem(STORAGE_KEY);\n\nif (savedData) {\n  for (const [key, value] of Object.entries(JSON.parse(savedData))) {\n    form.elements[key].value = value;\n  }\n}\n\nfunction onInput(event) {\n  const formData = new FormData(event.currentTarget);\n\n  localStorage.setItem(\n    STORAGE_KEY,\n    JSON.stringify(Object.fromEntries(formData))\n  );\n}\n\nform.addEventListener('input', throttle(onInput, 500));\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const formData = new FormData(event.currentTarget);\n  console.log(Object.fromEntries(formData));\n\n  localStorage.removeItem(STORAGE_KEY);\n  event.currentTarget.reset();\n}\n\nform.addEventListener('submit', onFormSubmit);\n"],"names":["STORAGE_KEY","form","savedData","key","value","onInput","event","formData","throttle","onFormSubmit"],"mappings":"wIAEA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAY,aAAa,QAAQF,CAAW,EAElD,GAAIE,EACF,SAAW,CAACC,EAAKC,CAAK,IAAK,OAAO,QAAQ,KAAK,MAAMF,CAAS,CAAC,EAC7DD,EAAK,SAASE,CAAG,EAAE,MAAQC,EAI/B,SAASC,EAAQC,EAAO,CACtB,MAAMC,EAAW,IAAI,SAASD,EAAM,aAAa,EAEjD,aAAa,QACXN,EACA,KAAK,UAAU,OAAO,YAAYO,CAAQ,CAAC,CAC/C,CACA,CAEAN,EAAK,iBAAiB,QAASO,EAASH,EAAS,GAAG,CAAC,EAErD,SAASI,EAAaH,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAW,IAAI,SAASD,EAAM,aAAa,EACjD,QAAQ,IAAI,OAAO,YAAYC,CAAQ,CAAC,EAExC,aAAa,WAAWP,CAAW,EACnCM,EAAM,cAAc,OACtB,CAEAL,EAAK,iBAAiB,SAAUQ,CAAY"}